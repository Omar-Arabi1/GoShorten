<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.7/dist/htmx.min.js"></script>
        <title>GoShorten</title>
    </head>
    <body>
        <div class="urls-container">
            <ul class="urls">
                {{ range . }}
                <li>
                    <div class="url">
                        <p>
                            http://localhost:8080/short/{{ .ShortenedUrlKey.String }}
                        </p>
                        <p>{{ .LongUrl.String }}</p>
                        <form
                            class="update"
                            hx-put="/edit_url/{{ .ID }}"
                            hx-target="body"
                            hx-swap="outerHTML"
                        >
                            <input
                                name="updated-long-url"
                                placeholder="update long URL"
                            />
                            <button class="edit-button">edit</button>
                        </form>
                        <button class="copy-button">Copy</button>
                        <button
                            class="delete-button"
                            hx-delete="/delete_url/{{ .ID }}"
                            hx-target="body"
                            hx-swap="outerHTML"
                        >
                            Delete
                        </button>
                    </div>
                </li>
                {{ end }}
            </ul>
        </div>
        <a href="/">Shorten Another Url</a>
    </body>
</html>
